<div class="main-content">
    <div class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Seguimiento Y Monitoreo de Desarrollo Infantil Temprano</h4>
                        <p class="category"></p>
                    </div>
                    <div class="content">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-12">

                                    <div class="card-0">
                                        <div class="header">
                                            <legend>Datos Generales</legend>
                                        </div>
                                        <div class="content">
                                            <div class="form-horizontal">
                                                <fieldset>
                                                    <div class="form-group">
                                                        <label class="col-sm-2 control-label"
                                                            style="text-align: left;">Fecha Monitoreo</label>
                                                        <div class="col-sm-10">
                                                            <input [(ngModel)]="dateMonitory" type="date"
                                                                class="form-control datetimepicker"
                                                                placeholder="Fecha Monitoreo" />
                                                        </div>
                                                    </div>
                                                </fieldset>

                                                <fieldset>
                                                    <div class="form-group">
                                                        <label style="text-align: left;"
                                                            class="col-sm-2 control-label">Departamento</label>
                                                        <div class="col-sm-10">
                                                            <select class="form-control"
                                                                (change)="getMunicipalitiesByDeparment($event)"
                                                                placeholder="Departamento">
                                                                <option value="">Seleccione un Departamento</option>
                                                                <option *ngFor="let item of departments"
                                                                    value="{{ item.id }}">
                                                                    {{ item.nameD }} </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </fieldset>

                                                <fieldset>
                                                    <div class="form-group">
                                                        <label style="text-align: left;"
                                                            class="col-sm-2 control-label">Municipio</label>
                                                        <div class="col-sm-10">
                                                            <select (change)="getMunicipalities($event)"
                                                                class="form-control" id="municipio"
                                                                placeholder="municipio">
                                                                <option value="">Seleccione un Municipio</option>
                                                                <option *ngFor="let item of municipalities"
                                                                    value="{{ item.id }}"> {{ item.nameM }} </option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                </fieldset>

                                                <fieldset>
                                                    <div class="form-group">
                                                        <label style="text-align: left;"
                                                            class="col-sm-2 control-label">Aldea</label>
                                                        <div class="col-sm-10">
                                                            <select [(ngModel)]="communityId" class="form-control"
                                                                id="comunidad" placeholder="comunidad">
                                                                <option value="0">Seleccione una Aldea</option>
                                                                <option *ngFor="let item of communities"
                                                                    value="{{ item.id }}">{{ item.nameC }}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </fieldset>

                                                <fieldset>
                                                    <div class="form-group">
                                                      <label class="col-sm-2 control-label" style="text-align: left;">Nombre Voluntario</label>
                                                      <div class="col-sm-4">
                                                        <textarea [(ngModel)]="typeValidation.number" class="form-control" rows="2" placeholder="Ingrese Nombre Completo"></textarea>
                                                      </div>
                                                      <label class="col-sm-2 control-label" style="text-align: left;">Numero de Familias Priorizadas</label>
                                                      <div class="col-sm-4">
                                                        <textarea [(ngModel)]="typeValidation.number" class="form-control" rows="2" placeholder="Ingrese Nombre Completo"></textarea>
                                                      </div>
                                                    </div>
                                                  </fieldset>
                                                  
                                                  <fieldset>
                                                    <div class="form-group" style="display: flex; align-items: flex-start;">
                                                      <label class="col-sm-2 control-label">Numero familia Atendida:</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">Programada</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">Ejecutada</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                    </div>
                                                  </fieldset>
                                                  
                                                  <fieldset>
                                                    <div class="form-group" style="display: flex; align-items: flex-start;">
                                                      <label class="col-sm-3 control-label bold">Cuidador Primario Parentesco:</label>
                                                      <label class="col-sm-1 control-label">Madre</label>
                                                      <div class="col-sm-1">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-1 control-label">Padre</label>
                                                      <div class="col-sm-1">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-1 control-label">Abuela</label>
                                                      <div class="col-sm-1">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                    </div>
                                                  </fieldset>
                                                  
                                                  <fieldset>
                                                    <div class="form-group" style="display: flex; align-items: flex-start;">
                                                      <label class="col-sm-3 control-label bold">Embarazada Captada en:</label>
                                                      <label class="col-sm-2 control-label">Primeras 12 Semanas de Embarazo</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">Despues de las 12 semanas de Embarazo</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                    </div>
                                                  </fieldset>

                                                  <fieldset>
                                                    <div class="form-group" style="display: flex; align-items: flex-start;">
                                                      <label class="col-sm-3 control-label bold">Parto Atendido en:</label>
                                                      <label class="col-sm-2 control-label">Hospital</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">Comunidad</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">Su primera consulta en los primeros 7 dias despues del parto</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                    </div>
                                                  </fieldset>
                                                  
                                                  <fieldset>
                                                    <div class="form-group" style="display: flex; align-items: flex-start;">
                                                      <label class="col-sm-3 control-label bold">Niños Y Niñas Menores de 6 meses de Edad que Recibe Lactancia Exclusiva:</label>
                                                      <label class="col-sm-2 control-label">Si</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                      <label class="col-sm-2 control-label">No</label>
                                                      <div class="col-sm-2">
                                                        <input class="form-control" type="number" [ngModel]="typeValidation.number" required>
                                                      </div>
                                                                                                            
                                                    </div>
                                                  </fieldset>
                                                
                                                <br>

                                                <p *ngIf="loadingQuestions">Loading</p>

                                                <form *ngIf="!loadingQuestions" [formGroup]="formPoll"
                                                    (ngSubmit)="save()">
                                                    <legend>Monitoreo de Organizaciones Locales</legend>
                                                    <div *ngFor="let item of dataGroup" class="form-group">
                                                        <label class="col-sm-10 control-label"
                                                            style="text-align: left;"> {{ item.descripcion }} </label>
                                                        <div class="col-sm-2">
                                                            <label class="radio-inline">
                                                                <input [formControlName]=item.key type="radio"
                                                                    name="{{ item.key }}" id="{{ item.key }}"
                                                                    [value]="true" />SI
                                                            </label>
                                                            <label class="radio-inline">
                                                                <input [formControlName]=item.key type="radio"
                                                                    name="{{ item.key }}" id="{{ item.key }}"
                                                                    [value]="false" />NO
                                                            </label>
                                                        </div>
                                                        <div *ngIf="item.recommendation" class="col-sm-12">
                                                            <fieldset>
                                                                <div class="form-group">
                                                                    <div class="col-sm-12">
                                                                        <textarea [formControlName]=item.key2
                                                                            class="form-control valid" rows="6"
                                                                            placeholder="Ingrese sus recomendaciones"></textarea>
                                                                    </div>
                                                                </div>
                                                            </fieldset>
                                                        </div>
                                                    </div>
                                                </form>

                                                <fieldset *ngIf="!loadingQuestions">
                                                    <div class="center-btn">
                                                        <button #btnSave (click)="save()" [disabled]="formPoll.invalid"
                                                            class="btn btn-success btn-fill btn-wd">Guardar</button>
                                                    </div>
                                                </fieldset>

                                            </div>
                                        </div>
                                    </div> <!-- end card -->
                                </div> <!-- end col-md-12 -->
                            </div>
                            <div class="col-md-6 col-md-offset-1">
                                <div id="worldMap" style="height: 300px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>